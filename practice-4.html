<!DOCTYPE html>
<html>
<head>
  <title>Front End Practice</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/main-struct.css" />
  <link rel="stylesheet" href="css/practice-4.css" />
</head>
<body>
  <div id="header" >
	<div class="header-container" >
	  <a class="logo" href="index.html" >Json's Front End Practice</a>
	</div>
  </div>
  <div id="leftnav" class="leftnav" >
	<div class="leftnav-container" >
	  <a href="practice-1.html">Practice 1</a>
	  <a href="practice-2.html">Practice 2</a>
	  <a href="practice-3.html">Practice 3</a>
	  <span class="visiting" >Practice 4</span>
	</div>
  </div>
  <div id="content" class="content" >
	<div id="main" >			
	  <div id="main-1" >
	    <span class="update-message">更新 : 2017/9/5</span>
		
		<h1>Google Maps API</h1>
		<ul>
		  <li><a href="https://www.w3schools.com/html/html5_geolocation.asp" target="_blank">ref</a>
		</ul>
		<button onclick="getLocation()">Get Location</button><br><br>
		<div id="msg"></div>
		<div id="mapholder"></div>
		<script src="https://maps.google.com/maps/api/js?key=AIzaSyBUDpnygZxx51g2xh3othDTdABCqMLbjUM"></script>
		<script>
		var x = document.getElementById("msg");
		function getLocation() {
			if (navigator.geolocation) {
				navigator.geolocation.getCurrentPosition(showPosition, showError);
			} else { 
				x.innerHTML = "Geolocation is not supported by this browser.";
			}
		}

		function showPosition(position) {
			var lat = position.coords.latitude;
			var lon = position.coords.longitude;
			var latlon = new google.maps.LatLng(lat, lon)
			var mapholder = document.getElementById('mapholder')
			mapholder.style.height = '320px';
			mapholder.style.width = '480px';

			var myOptions = {
			center:latlon,zoom:14,
			mapTypeId:google.maps.MapTypeId.ROADMAP,
			mapTypeControl:false,
			navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
			}
			
			var map = new google.maps.Map(document.getElementById("mapholder"), myOptions);
			var marker = new google.maps.Marker({position:latlon,map:map,title:"You are here!"});
		}

		function showError(error) {
			switch(error.code) {
				case error.PERMISSION_DENIED:
					x.innerHTML = "User denied the request for Geolocation."
					break;
				case error.POSITION_UNAVAILABLE:
					x.innerHTML = "Location information is unavailable."
					break;
				case error.TIMEOUT:
					x.innerHTML = "The request to get user location timed out."
					break;
				case error.UNKNOWN_ERROR:
					x.innerHTML = "An unknown error occurred."
					break;
			}
		}
		</script>
		
		<h1>Drag/Drop</h1>
		<script>
		function drag(ev){
			ev.dataTransfer.setData( "text", ev.target.id );
		}
		function allowDrop(ev){
			ev.preventDefault();
		}
		function drop(ev){
			ev.preventDefault();
			var data = ev.dataTransfer.getData("text");
			ev.target.appendChild( document.getElementById(data) );
		}
		</script>
		<div  class="div-dragdrop" ondragover="allowDrop(event)" ondrop="drop(event)">
		  <img id="drag-1" src="image/catpoo.gif"  height="100%" draggable="true" ondragstart="drag(event)" />
		</div>
		<div  class="div-dragdrop" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
		<ul class="clear-float">
		  <li>被拖移的物件要有id</li>
		</ul>
	  </div>
	  <div id="rightbar" >				
	  </div>
	</div>
	<div id="footer" >
	  <hr>
	  <div class="footer-container" >
		&copy;2017&nbsp;&nbsp;&nbsp;stu900277@gmail.com
	  </div>
	</div>
  </div>
</body>
</html>